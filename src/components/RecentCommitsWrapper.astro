---
import { RecentCommits } from './RecentCommits'
import { fetchRecentCommits } from '../lib/github-commits'

const GITHUB_USERNAME = 'AndrewUsher'

// Fetch commits from all active repos (defaults: 5 repos, 5 commits each, max 25 total)
const commits = await fetchRecentCommits(GITHUB_USERNAME)

const error = commits.length === 0 ? 'No recent commits found' : null
---

<RecentCommits commits={commits} error={error} client:load />
